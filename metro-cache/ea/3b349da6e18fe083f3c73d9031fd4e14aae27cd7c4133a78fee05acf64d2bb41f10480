{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"fbemitter","data":{"isAsync":false}},{"name":"react-native/Libraries/EventEmitter/RCTDeviceEventEmitter","data":{"isAsync":false}},{"name":"./ExponentUpdates","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.reload = reload;\n  exports.reloadFromCache = reloadFromCache;\n  exports.checkForUpdateAsync = checkForUpdateAsync;\n  exports.fetchUpdateAsync = fetchUpdateAsync;\n  exports.clearUpdateCacheExperimentalAsync = clearUpdateCacheExperimentalAsync;\n  exports.addListener = addListener;\n  exports.EventType = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _core = _$$_REQUIRE(_dependencyMap[2], \"@unimodules/core\");\n\n  var _fbemitter = _$$_REQUIRE(_dependencyMap[3], \"fbemitter\");\n\n  var _RCTDeviceEventEmitter = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"react-native/Libraries/EventEmitter/RCTDeviceEventEmitter\"));\n\n  var _ExponentUpdates = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"./ExponentUpdates\"));\n\n  function reload() {\n    return _regenerator.default.async(function reload$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regenerator.default.awrap(_ExponentUpdates.default.reload());\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  function reloadFromCache() {\n    return _regenerator.default.async(function reloadFromCache$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regenerator.default.awrap(_ExponentUpdates.default.reloadFromCache());\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  }\n\n  function checkForUpdateAsync() {\n    var result;\n    return _regenerator.default.async(function checkForUpdateAsync$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (_ExponentUpdates.default.checkForUpdateAsync) {\n              _context3.next = 2;\n              break;\n            }\n\n            throw new _core.UnavailabilityError('Updates', 'checkForUpdateAsync');\n\n          case 2:\n            _context3.next = 4;\n            return _regenerator.default.awrap(_ExponentUpdates.default.checkForUpdateAsync());\n\n          case 4:\n            result = _context3.sent;\n\n            if (result) {\n              _context3.next = 7;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", {\n              isAvailable: false\n            });\n\n          case 7:\n            return _context3.abrupt(\"return\", {\n              isAvailable: true,\n              manifest: typeof result === 'string' ? JSON.parse(result) : result\n            });\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  }\n\n  function fetchUpdateAsync() {\n    var _ref,\n        eventListener,\n        subscription,\n        result,\n        _args4 = arguments;\n\n    return _regenerator.default.async(function fetchUpdateAsync$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _ref = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {}, eventListener = _ref.eventListener;\n\n            if (_ExponentUpdates.default.fetchUpdateAsync) {\n              _context4.next = 3;\n              break;\n            }\n\n            throw new _core.UnavailabilityError('Updates', 'fetchUpdateAsync');\n\n          case 3:\n            if (eventListener && typeof eventListener === 'function') {\n              subscription = addListener(eventListener);\n            }\n\n            _context4.prev = 4;\n            _context4.next = 7;\n            return _regenerator.default.awrap(_ExponentUpdates.default.fetchUpdateAsync());\n\n          case 7:\n            result = _context4.sent;\n\n          case 8:\n            _context4.prev = 8;\n            subscription && subscription.remove();\n            return _context4.finish(8);\n\n          case 11:\n            if (result) {\n              _context4.next = 13;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", {\n              isNew: false\n            });\n\n          case 13:\n            return _context4.abrupt(\"return\", {\n              isNew: true,\n              manifest: typeof result === 'string' ? JSON.parse(result) : result\n            });\n\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[4,, 8, 11]]);\n  }\n\n  function clearUpdateCacheExperimentalAsync(abiVersion) {\n    return _regenerator.default.async(function clearUpdateCacheExperimentalAsync$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (_ExponentUpdates.default.clearUpdateCacheAsync) {\n              _context5.next = 2;\n              break;\n            }\n\n            throw new _core.UnavailabilityError('Updates', 'clearUpdateCacheAsync');\n\n          case 2:\n            return _context5.abrupt(\"return\", _ExponentUpdates.default.clearUpdateCacheAsync(abiVersion));\n\n          case 3:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    });\n  }\n\n  var _emitter;\n\n  function _getEmitter() {\n    if (!_emitter) {\n      _emitter = new _fbemitter.EventEmitter();\n\n      _RCTDeviceEventEmitter.default.addListener('Exponent.nativeUpdatesEvent', _emitEvent);\n    }\n\n    return _emitter;\n  }\n\n  function _emitEvent(params) {\n    var newParams = params;\n\n    if (typeof params === 'string') {\n      newParams = JSON.parse(params);\n    }\n\n    if (newParams.manifestString) {\n      newParams.manifest = JSON.parse(newParams.manifestString);\n      delete newParams.manifestString;\n    }\n\n    if (!_emitter) {\n      throw new Error(\"EventEmitter must be initialized to use from its listener\");\n    }\n\n    _emitter.emit('Exponent.updatesEvent', newParams);\n  }\n\n  function addListener(listener) {\n    var emitter = _getEmitter();\n\n    return emitter.addListener('Exponent.updatesEvent', listener);\n  }\n\n  var EventType = {\n    DOWNLOAD_STARTED: 'downloadStart',\n    DOWNLOAD_PROGRESS: 'downloadProgress',\n    DOWNLOAD_FINISHED: 'downloadFinished',\n    NO_UPDATE_AVAILABLE: 'noUpdateAvailable',\n    ERROR: 'error'\n  };\n  exports.EventType = EventType;\n});","map":[[17,0,1,0],[19,0,2,0],[21,0,3,0],[23,0,4,0],[25,0,5,7],[25,11,5,22,"reload"],[25,17,5,7],[26,0,5,7],[27,0,5,7],[28,0,5,7],[29,0,5,7],[30,0,5,7],[31,0,5,7],[31,46,6,10,"ExponentUpdates"],[31,71,6,26,"reload"],[31,77,6,10],[31,79,5,7],[33,0,5,7],[34,0,5,7],[35,0,5,7],[36,0,5,7],[37,0,5,7],[38,0,5,7],[39,0,5,7],[41,0,8,7],[41,11,8,22,"reloadFromCache"],[41,26,8,7],[42,0,8,7],[43,0,8,7],[44,0,8,7],[45,0,8,7],[46,0,8,7],[47,0,8,7],[47,46,9,10,"ExponentUpdates"],[47,71,9,26,"reloadFromCache"],[47,86,9,10],[47,88,8,7],[49,0,8,7],[50,0,8,7],[51,0,8,7],[52,0,8,7],[53,0,8,7],[54,0,8,7],[55,0,8,7],[57,0,11,7],[57,11,11,22,"checkForUpdateAsync"],[57,30,11,7],[58,0,11,7],[59,0,11,7],[60,0,11,7],[61,0,11,7],[62,0,11,7],[63,0,11,7],[63,16,12,9,"ExponentUpdates"],[63,41,12,25,"checkForUpdateAsync"],[63,60,11,7],[64,0,11,7],[65,0,11,7],[66,0,11,7],[68,0,11,7],[68,18,13,14],[68,22,13,18,"UnavailabilityError"],[68,47,13,14],[68,48,13,38],[68,57,13,14],[68,59,13,49],[68,80,13,14],[68,81,11,7],[70,0,11,7],[71,0,11,7],[72,0,11,7],[72,46,15,25,"ExponentUpdates"],[72,71,15,41,"checkForUpdateAsync"],[72,90,15,25],[72,92,11,7],[74,0,11,7],[75,0,15,10,"result"],[75,12,15,10,"result"],[75,18,11,7],[77,0,11,7],[77,16,16,9,"result"],[77,22,11,7],[78,0,11,7],[79,0,11,7],[80,0,11,7],[82,0,11,7],[82,46,17,15],[83,0,17,17,"isAvailable"],[83,14,17,17,"isAvailable"],[83,25,17,28],[83,27,17,30],[84,0,17,15],[84,13,11,7],[86,0,11,7],[87,0,11,7],[87,46,19,11],[88,0,20,8,"isAvailable"],[88,14,20,8,"isAvailable"],[88,25,20,19],[88,27,20,21],[88,31,19,11],[89,0,21,8,"manifest"],[89,14,21,8,"manifest"],[89,22,21,16],[89,24,21,18],[89,31,21,25,"result"],[89,37,21,18],[89,42,21,36],[89,50,21,18],[89,53,21,47,"JSON"],[89,57,21,51],[89,58,21,52,"parse"],[89,63,21,47],[89,64,21,58,"result"],[89,70,21,47],[89,71,21,18],[89,74,21,68,"result"],[90,0,19,11],[90,13,11,7],[92,0,11,7],[93,0,11,7],[94,0,11,7],[95,0,11,7],[96,0,11,7],[97,0,11,7],[98,0,11,7],[100,0,24,7],[100,11,24,22,"fetchUpdateAsync"],[100,27,24,7],[101,0,24,7],[102,0,24,7],[103,0,24,7],[104,0,24,7],[105,0,24,7],[107,0,24,7],[108,0,24,7],[109,0,24,7],[110,0,24,7],[111,0,24,7],[111,78,24,60],[111,80,24,7],[111,82,24,41,"eventListener"],[111,95,24,7],[111,103,24,41,"eventListener"],[111,116,24,7],[113,0,24,7],[113,16,25,9,"ExponentUpdates"],[113,41,25,25,"fetchUpdateAsync"],[113,57,24,7],[114,0,24,7],[115,0,24,7],[116,0,24,7],[118,0,24,7],[118,18,26,14],[118,22,26,18,"UnavailabilityError"],[118,47,26,14],[118,48,26,38],[118,57,26,14],[118,59,26,49],[118,77,26,14],[118,78,24,7],[120,0,24,7],[121,0,30,4],[121,16,30,8,"eventListener"],[121,29,30,21],[121,33,30,25],[121,40,30,32,"eventListener"],[121,53,30,25],[121,58,30,50],[121,68,30,4],[121,70,30,62],[122,0,31,8,"subscription"],[122,14,31,8,"subscription"],[122,26,31,20],[122,29,31,23,"addListener"],[122,40,31,34],[122,41,31,35,"eventListener"],[122,54,31,34],[122,55,31,8],[123,0,32,5],[125,0,24,7],[126,0,24,7],[127,0,24,7],[127,46,34,23,"ExponentUpdates"],[127,71,34,39,"fetchUpdateAsync"],[127,87,34,23],[127,89,24,7],[129,0,24,7],[130,0,34,8,"result"],[130,12,34,8,"result"],[130,18,24,7],[132,0,24,7],[133,0,24,7],[134,0,37,8,"subscription"],[134,12,37,8,"subscription"],[134,24,37,20],[134,28,37,24,"subscription"],[134,40,37,36],[134,41,37,37,"remove"],[134,47,37,24],[134,49,37,8],[135,0,24,7],[137,0,24,7],[138,0,24,7],[138,16,39,9,"result"],[138,22,24,7],[139,0,24,7],[140,0,24,7],[141,0,24,7],[143,0,24,7],[143,46,40,15],[144,0,40,17,"isNew"],[144,14,40,17,"isNew"],[144,19,40,22],[144,21,40,24],[145,0,40,15],[145,13,24,7],[147,0,24,7],[148,0,24,7],[148,46,42,11],[149,0,43,8,"isNew"],[149,14,43,8,"isNew"],[149,19,43,13],[149,21,43,15],[149,25,42,11],[150,0,44,8,"manifest"],[150,14,44,8,"manifest"],[150,22,44,16],[150,24,44,18],[150,31,44,25,"result"],[150,37,44,18],[150,42,44,36],[150,50,44,18],[150,53,44,47,"JSON"],[150,57,44,51],[150,58,44,52,"parse"],[150,63,44,47],[150,64,44,58,"result"],[150,70,44,47],[150,71,44,18],[150,74,44,68,"result"],[151,0,42,11],[151,13,24,7],[153,0,24,7],[154,0,24,7],[155,0,24,7],[156,0,24,7],[157,0,24,7],[158,0,24,7],[159,0,24,7],[161,0,47,7],[161,11,47,22,"clearUpdateCacheExperimentalAsync"],[161,44,47,7],[161,45,47,56,"abiVersion"],[161,55,47,7],[162,0,47,7],[163,0,47,7],[164,0,47,7],[165,0,47,7],[166,0,47,7],[166,16,48,9,"ExponentUpdates"],[166,41,48,25,"clearUpdateCacheAsync"],[166,62,47,7],[167,0,47,7],[168,0,47,7],[169,0,47,7],[171,0,47,7],[171,18,49,14],[171,22,49,18,"UnavailabilityError"],[171,47,49,14],[171,48,49,38],[171,57,49,14],[171,59,49,49],[171,82,49,14],[171,83,47,7],[173,0,47,7],[174,0,47,7],[174,46,51,11,"ExponentUpdates"],[174,71,51,27,"clearUpdateCacheAsync"],[174,92,51,11],[174,93,51,49,"abiVersion"],[174,103,51,11],[174,104,47,7],[176,0,47,7],[177,0,47,7],[178,0,47,7],[179,0,47,7],[180,0,47,7],[181,0,47,7],[182,0,47,7],[184,0,53,0],[184,6,53,4,"_emitter"],[184,14,53,0],[186,0,54,0],[186,11,54,9,"_getEmitter"],[186,22,54,0],[186,25,54,23],[187,0,55,4],[187,8,55,8],[187,9,55,9,"_emitter"],[187,17,55,4],[187,19,55,19],[188,0,56,8,"_emitter"],[188,6,56,8,"_emitter"],[188,14,56,16],[188,17,56,19],[188,21,56,23,"EventEmitter"],[188,44,56,19],[188,46,56,8],[190,0,57,8,"DeviceEventEmitter"],[190,37,57,27,"addListener"],[190,48,57,8],[190,49,57,39],[190,78,57,8],[190,80,57,70,"_emitEvent"],[190,90,57,8],[191,0,58,5],[193,0,59,4],[193,11,59,11,"_emitter"],[193,19,59,4],[194,0,60,1],[196,0,61,0],[196,11,61,9,"_emitEvent"],[196,21,61,0],[196,22,61,20,"params"],[196,28,61,0],[196,30,61,28],[197,0,62,4],[197,8,62,8,"newParams"],[197,17,62,17],[197,20,62,20,"params"],[197,26,62,4],[199,0,63,4],[199,8,63,8],[199,15,63,15,"params"],[199,21,63,8],[199,26,63,26],[199,34,63,4],[199,36,63,36],[200,0,64,8,"newParams"],[200,6,64,8,"newParams"],[200,15,64,17],[200,18,64,20,"JSON"],[200,22,64,24],[200,23,64,25,"parse"],[200,28,64,20],[200,29,64,31,"params"],[200,35,64,20],[200,36,64,8],[201,0,65,5],[203,0,66,4],[203,8,66,8,"newParams"],[203,17,66,17],[203,18,66,18,"manifestString"],[203,32,66,4],[203,34,66,34],[204,0,67,8,"newParams"],[204,6,67,8,"newParams"],[204,15,67,17],[204,16,67,18,"manifest"],[204,24,67,8],[204,27,67,29,"JSON"],[204,31,67,33],[204,32,67,34,"parse"],[204,37,67,29],[204,38,67,40,"newParams"],[204,47,67,49],[204,48,67,50,"manifestString"],[204,62,67,29],[204,63,67,8],[205,0,68,8],[205,13,68,15,"newParams"],[205,22,68,24],[205,23,68,25,"manifestString"],[205,37,68,8],[206,0,69,5],[208,0,70,4],[208,8,70,8],[208,9,70,9,"_emitter"],[208,17,70,4],[208,19,70,19],[209,0,71,8],[209,12,71,14],[209,16,71,18,"Error"],[209,21,71,14],[209,82,71,8],[210,0,72,5],[212,0,73,4,"_emitter"],[212,4,73,4,"_emitter"],[212,12,73,12],[212,13,73,13,"emit"],[212,17,73,4],[212,18,73,18],[212,41,73,4],[212,43,73,43,"newParams"],[212,52,73,4],[213,0,74,1],[215,0,75,7],[215,11,75,16,"addListener"],[215,22,75,7],[215,23,75,28,"listener"],[215,31,75,7],[215,33,75,38],[216,0,76,4],[216,8,76,8,"emitter"],[216,15,76,15],[216,18,76,18,"_getEmitter"],[216,29,76,29],[216,31,76,4],[218,0,77,4],[218,11,77,11,"emitter"],[218,18,77,18],[218,19,77,19,"addListener"],[218,30,77,11],[218,31,77,31],[218,54,77,11],[218,56,77,56,"listener"],[218,64,77,11],[218,65,77,4],[219,0,78,1],[221,0,79,7],[221,6,79,13,"EventType"],[221,15,79,22],[221,18,79,25],[222,0,80,4,"DOWNLOAD_STARTED"],[222,4,80,4,"DOWNLOAD_STARTED"],[222,20,80,20],[222,22,80,22],[222,37,79,25],[223,0,81,4,"DOWNLOAD_PROGRESS"],[223,4,81,4,"DOWNLOAD_PROGRESS"],[223,21,81,21],[223,23,81,23],[223,41,79,25],[224,0,82,4,"DOWNLOAD_FINISHED"],[224,4,82,4,"DOWNLOAD_FINISHED"],[224,21,82,21],[224,23,82,23],[224,41,79,25],[225,0,83,4,"NO_UPDATE_AVAILABLE"],[225,4,83,4,"NO_UPDATE_AVAILABLE"],[225,23,83,23],[225,25,83,25],[225,44,79,25],[226,0,84,4,"ERROR"],[226,4,84,4,"ERROR"],[226,9,84,9],[226,11,84,11],[227,0,79,25],[227,3,79,7]]},"type":"js/module"}]}